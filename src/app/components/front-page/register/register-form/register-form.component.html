<form [formGroup]="registerForm" (ngSubmit)="saveUser()">
    <div class="input-container">
        <div class="input-wrapper">
            <input type="name" class="input" id="name"
                placeholder="Vor- und Nachname" formControlName="name"
                (focus)="isNameActive = true"
                (blur)="isNameActive = false">
            <svg class="icon" width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                <path d="M8 8C6.9 8 5.95833 7.60833 5.175 6.825C4.39167 6.04167 4 5.1 4 4C4 2.9 4.39167 1.95833 5.175 1.175C5.95833 0.391667 6.9 0 8 0C9.1 0 10.0417 0.391667 10.825 1.175C11.6083 1.95833 12 2.9 12 4C12 5.1 11.6083 6.04167 10.825 6.825C10.0417 7.60833 9.1 8 8 8ZM14 16H2C1.45 16 0.979333 15.8043 0.588 15.413C0.196 15.021 0 14.55 0 14V13.2C0 12.6333 0.146 12.1123 0.438 11.637C0.729334 11.1623 1.11667 10.8 1.6 10.55C2.63333 10.0333 3.68333 9.64567 4.75 9.387C5.81667 9.129 6.9 9 8 9C9.1 9 10.1833 9.129 11.25 9.387C12.3167 9.64567 13.3667 10.0333 14.4 10.55C14.8833 10.8 15.2707 11.1623 15.562 11.637C15.854 12.1123 16 12.6333 16 13.2V14C16 14.55 15.8043 15.021 15.413 15.413C15.021 15.8043 14.55 16 14 16ZM2 14H14V13.2C14 13.0167 13.9543 12.85 13.863 12.7C13.771 12.55 13.65 12.4333 13.5 12.35C12.6 11.9 11.6917 11.5623 10.775 11.337C9.85833 11.1123 8.93333 11 8 11C7.06667 11 6.14167 11.1123 5.225 11.337C4.30833 11.5623 3.4 11.9 2.5 12.35C2.35 12.4333 2.22933 12.55 2.138 12.7C2.046 12.85 2 13.0167 2 13.2V14ZM8 6C8.55 6 9.021 5.804 9.413 5.412C9.80433 5.02067 10 4.55 10 4C10 3.45 9.80433 2.97933 9.413 2.588C9.021 2.196 8.55 2 8 2C7.45 2 6.97933 2.196 6.588 2.588C6.196 2.97933 6 3.45 6 4C6 4.55 6.196 5.02067 6.588 5.412C6.97933 5.804 7.45 6 8 6Z"/>
            </svg>
        </div>
        @if (name?.invalid && (name?.dirty || name?.touched)) {
            @if (name?.errors?.['required']) {
                <div class="error-message">Bitte geben Sie Ihren Namen ein</div>
            }
            @if (name?.errors?.['pattern'] && !isNameActive) {
                <div class="error-message">Bitte geben Sie Ihren Vor- und Nachnamen ein</div>
            }
        }
    </div>
    <div class="input-container">
        <div class="input-wrapper">
            <input type="email" class="input" id="email"
                placeholder="beispielname@email.com" formControlName="email"
                (focus)="isEmailActive = true"
                (blur)="isEmailActive = false">
            <svg class="icon" viewBox="0 0 20 16" xmlns="http://www.w3.org/2000/svg">
                <path d="M2 16C1.45 16 0.979333 15.8043 0.588 15.413C0.196 15.021 0 14.55 0 14V2C0 1.45 0.196 0.979333 0.588 0.588C0.979333 0.196 1.45 0 2 0H18C18.55 0 19.021 0.196 19.413 0.588C19.8043 0.979333 20 1.45 20 2V14C20 14.55 19.8043 15.021 19.413 15.413C19.021 15.8043 18.55 16 18 16H2ZM18 4L10.525 8.675C10.4417 8.725 10.354 8.76233 10.262 8.787C10.1707 8.81233 10.0833 8.825 10 8.825C9.91667 8.825 9.82933 8.81233 9.738 8.787C9.646 8.76233 9.55833 8.725 9.475 8.675L2 4V14H18V4ZM10 7L18 2H2L10 7ZM2 4.25V2.775V2.8V2.787V4.25Z"/>
            </svg>
        </div>
        @if (email?.invalid && (email?.dirty || email?.touched)) {
            @if (email?.errors?.['required']) {
                <div class="error-message">Bitte geben Sie eine E-Mail Adresse ein</div>
            }
            @if (email?.errors?.['pattern'] && !isEmailActive) {
                <div class="error-message">Bitte geben Sie eine gültige E-Mail Adresse ein</div>
            }
        }
    </div>
    <div class="input-container">
        <div class="input-wrapper">
            <input type="password" class="input" id="password"
                placeholder="Passwort" formControlName="password"
                (focus)="isPasswordActive = true"
                (blur)="isPasswordActive = false">
            <svg class="icon" viewBox="0 0 16 21" xmlns="http://www.w3.org/2000/svg">
                <path d="M2 21C1.45 21 0.979333 20.8043 0.588 20.413C0.196 20.021 0 19.55 0 19V9C0 8.45 0.196 7.979 0.588 7.587C0.979333 7.19567 1.45 7 2 7H3V5C3 3.61667 3.48767 2.43733 4.463 1.462C5.43767 0.487333 6.61667 0 8 0C9.38333 0 10.5627 0.487333 11.538 1.462C12.5127 2.43733 13 3.61667 13 5V7H14C14.55 7 15.021 7.19567 15.413 7.587C15.8043 7.979 16 8.45 16 9V19C16 19.55 15.8043 20.021 15.413 20.413C15.021 20.8043 14.55 21 14 21H2ZM2 19H14V9H2V19ZM8 16C8.55 16 9.021 15.8043 9.413 15.413C9.80433 15.021 10 14.55 10 14C10 13.45 9.80433 12.979 9.413 12.587C9.021 12.1957 8.55 12 8 12C7.45 12 6.97933 12.1957 6.588 12.587C6.196 12.979 6 13.45 6 14C6 14.55 6.196 15.021 6.588 15.413C6.97933 15.8043 7.45 16 8 16ZM5 7H11V5C11 4.16667 10.7083 3.45833 10.125 2.875C9.54167 2.29167 8.83333 2 8 2C7.16667 2 6.45833 2.29167 5.875 2.875C5.29167 3.45833 5 4.16667 5 5V7Z"/>
            </svg>
        </div>
        @if (password?.invalid && (password?.dirty || password?.touched)) {
            @if (password?.errors?.['required']) {
                <div class="error-message">Bitte geben Sie ein Passwort ein</div>
            }
            @if (password?.errors?.['pattern'] && !isPasswordActive) {
                <div class="error-message p-rel">Das Passwort muss mindestens eine Nummer, einen Gross- und Kleinbuchstaben enthalten
                    und mindestens 8 Zeichen lang sein
                </div>
            }
        }
    </div>
    <div class="input-container">
        <div class="input-wrapper legals-container">
            <label for="legals">
                @if (!checkboxChecked) {
                    <svg class="checkbox-icon" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2 18C1.45 18 0.979167 17.8042 0.5875 17.4125C0.195833 17.0208 0 16.55 0 16V2C0 1.45 0.195833 0.979167 0.5875 0.5875C0.979167 0.195833 1.45 0 2 0H16C16.55 0 17.0208 0.195833 17.4125 0.5875C17.8042 0.979167 18 1.45 18 2V16C18 16.55 17.8042 17.0208 17.4125 17.4125C17.0208 17.8042 16.55 18 16 18H2ZM2 16H16V2H2V16Z"/>
                    </svg>
                } @else {
                    <svg class="checkbox-icon" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7.6 10.4L5.45 8.25C5.26667 8.06667 5.03333 7.975 4.75 7.975C4.46667 7.975 4.23333 8.06667 4.05 8.25C3.86667 8.43333 3.775 8.66667 3.775 8.95C3.775 9.23333 3.86667 9.46667 4.05 9.65L6.9 12.5C7.1 12.7 7.33333 12.8 7.6 12.8C7.86667 12.8 8.1 12.7 8.3 12.5L13.95 6.85C14.1333 6.66667 14.225 6.43333 14.225 6.15C14.225 5.86667 14.1333 5.63333 13.95 5.45C13.7667 5.26667 13.5333 5.175 13.25 5.175C12.9667 5.175 12.7333 5.26667 12.55 5.45L7.6 10.4ZM2 18C1.45 18 0.979167 17.8042 0.5875 17.4125C0.195833 17.0208 0 16.55 0 16V2C0 1.45 0.195833 0.979167 0.5875 0.5875C0.979167 0.195833 1.45 0 2 0H16C16.55 0 17.0208 0.195833 17.4125 0.5875C17.8042 0.979167 18 1.45 18 2V16C18 16.55 17.8042 17.0208 17.4125 17.4125C17.0208 17.8042 16.55 18 16 18H2ZM2 16H16V2H2V16Z"/>
                    </svg>
                }
            </label>
            <input type="checkbox" id="legals" (change)="checkboxChecked = !checkboxChecked"
                formControlName="checkbox">
            <span class="legals-info">Ich stimme der <a routerLink="/front/login">Datenschutzerklärung</a> zu</span>
        </div>
    </div>
    <div class="button-wrapper">
        <button type="submit" class="main-btn register-btn" [disabled]="registerForm.invalid">Weiter</button>
    </div>
</form>